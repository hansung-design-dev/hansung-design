## ğŸ“ ì‘ì„± ê°€ì´ë“œ

### ì‘ì„± ì‹œ ì°¸ê³ ì‚¬í•­:

1. **ì„¤ëª…:** í•´ë‹¹ í…Œì´ë¸” ì œëª©
2. **ìš©ë„**: í•´ë‹¹ í…Œì´ë¸”ì´ ì–´ë–¤ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ ëª…í™•íˆ ê¸°ìˆ 
3. **ì»¬ëŸ¼ ì„¤ëª…**: ê° ì»¬ëŸ¼ì´ ì €ì¥í•˜ëŠ” ë°ì´í„°ì˜ ì˜ë¯¸ì™€ ìš©ë„ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…
4. **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™**: íŠ¹ë³„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ì œì•½ì‚¬í•­ì´ ìˆë‹¤ë©´ ì„¤ëª…ë€ì— ì¶”ê°€
5. **ì°¸ì¡° ê´€ê³„**: ì™¸ë˜í‚¤ ê´€ê³„ê°€ ìˆëŠ” ê²½ìš° ì–´ë–¤ ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ì„¤ëª…

### ì˜ˆì‹œ:

```
í…Œì´ë¸” ìš©ë„: ê´€ë¦¬ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ë¡œ, ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ë©ë‹ˆë‹¤.

| ì»¬ëŸ¼ëª… | ì„¤ëª… |
|--------|------|
| email | ê´€ë¦¬ì ë¡œê·¸ì¸ìš© ì´ë©”ì¼ ì£¼ì†Œ (ì¤‘ë³µ ë¶ˆê°€) |
| password_hash | bcryptë¡œ í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸ |
| is_active | ê³„ì • í™œì„±í™” ìƒíƒœ (falseì‹œ ë¡œê·¸ì¸ ë¶ˆê°€) |

```

## âš ï¸ ë°œê²¬ëœ ì´ìŠˆë“¤

ë‹¤ìŒ í•­ëª©ë“¤ì€ ê°œë°œìë‹˜ê³¼ í•¨ê»˜ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤:

1. **ì™¸ë˜í‚¤ ëˆ„ë½**: `customer_inquiries.answer_admin_id`ì— FK ì œì•½ì¡°ê±´ ì—†ìŒ
2. **ì¤‘ë³µ ì°¸ì¡°**: `orders` í…Œì´ë¸”ì— ì‚¬ìš©ì ì°¸ì¡° ì»¬ëŸ¼ì´ 3ê°œ ì¡´ì¬
3. **íƒ€ì„ìŠ¤íƒ¬í”„ ë¶ˆì¼ì¹˜**: ì¼ë¶€ í…Œì´ë¸”ì€ `with time zone`, ì¼ë¶€ëŠ” `without time zone` ì‚¬ìš©
4. **ë³´ì•ˆ ê°•í™” í•„ìš”**: `admin_auth` í…Œì´ë¸”ì— ë¡œê·¸ì¸ ì‹¤íŒ¨ íšŸìˆ˜, ê³„ì • ì ê¸ˆ ë“± ë³´ì•ˆ í•„ë“œ ë¶€ì¬
5. **ê°ì‚¬ ë¡œê·¸ ë¶€ì¬**: ê´€ë¦¬ì í™œë™ ë¡œê·¸ í…Œì´ë¸” ì—†ìŒ

## 1. Admin ê´€ë ¨ í…Œì´ë¸”

### 1.1 admin_auth

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| email | text | NOT NULL, UNIQUE |  |
| password_hash | text | NOT NULL |  |
| is_active | boolean | DEFAULT true |  |
| last_login_at | timestamp with time zone |  |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 1.2 admin_profiles

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| admin_auth_id | uuid | NOT NULL, FK â†’ admin_auth(id) |  |
| name | text | NOT NULL |  |
| department | text |  |  |
| position | text |  |  |
| phone | text |  |  |
| role | text | NOT NULL, DEFAULT 'admin', CHECK (role = ANY (ARRAY['admin', 'super_admin', 'designer', 'sales'])) |  |
| permissions | jsonb | DEFAULT '{}' |  |
| is_active | boolean | DEFAULT true |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 1.3 admin_order_verifications

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| order_id | uuid | NOT NULL, FK â†’ orders(id) |  |
| is_paid | boolean | DEFAULT false |  |
| is_checked | boolean | DEFAULT false |  |
| is_received_order | boolean | DEFAULT false |  |
| is_received_payment | boolean | DEFAULT false |  |
| is_draft_sent | boolean | DEFAULT false |  |
| is_draft_received | boolean | DEFAULT false |  |
| is_address_verified | boolean | DEFAULT false |  |
| is_draft_verified | boolean | DEFAULT false |  |
| received_payment_at | timestamp with time zone |  |  |
| admin_notes | text |  |  |
| verified_by | uuid | FK â†’ admin_profiles(id) |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

## 2. ì‚¬ìš©ì ê´€ë ¨ í…Œì´ë¸”

### 2.1 user_auth

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| username | character varying | NOT NULL, UNIQUE |  |
| email | character varying | NOT NULL, UNIQUE |  |
| password | character varying | NOT NULL |  |
| name | character varying | NOT NULL |  |
| phone | character varying |  |  |
| is_verified | boolean | DEFAULT false |  |
| is_active | boolean | DEFAULT true |  |
| terms_agreed | boolean | DEFAULT false |  |
| privacy_agreed | boolean | DEFAULT false |  |
| collection_agreed | boolean | DEFAULT false |  |
| third_party_agreed | boolean | DEFAULT false |  |
| agreed_at | timestamp with time zone |  |  |
| last_login | timestamp with time zone |  |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 2.2 user_profiles

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| user_auth_id | uuid | FK â†’ user_auth(id) |  |
| profile_title | text | NOT NULL |  |
| company_name | text |  |  |
| business_registration_file | text |  |  |
| phone | text | NOT NULL |  |
| email | text | NOT NULL |  |
| contact_person_name | text | NOT NULL |  |
| fax_number | text |  |  |
| is_default | boolean | DEFAULT false |  |
| is_public_institution | boolean | DEFAULT false |  |
| is_company | boolean | DEFAULT false |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 3. íŒ¨ë„/ë””ìŠ¤í”Œë ˆì´ ê´€ë ¨ í…Œì´ë¸”

### 3.1 display_types

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| name | USER-DEFINED | NOT NULL |  |
| description | text |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |

### 3.2 panel_info

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_type_id | uuid | FK â†’ display_types(id) |  |
| post_code | text | UNIQUE |  |
| region_gu_id | uuid | FK â†’ region_gu(id) |  |
| region_dong_id | uuid | FK â†’ region_dong(id) |  |
| nickname | text | NOT NULL |  |
| address | text |  |  |
| photo_url | text |  |  |
| location_url | text |  |  |
| map_url | text |  |  |
| latitude | numeric |  |  |
| longitude | numeric |  |  |
| panel_status | USER-DEFINED | DEFAULT 'active' |  |
| maintenance_notes | text |  |  |
| panel_code | smallint | CHECK (panel_code >= 1 AND panel_code <= 100) |  |
| panel_type | USER-DEFINED |  |  |
| max_banner | integer | DEFAULT 1 |  |
| notes | text |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 3.3 led_panel_details

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, UNIQUE, FK â†’ panel_info(id) |  |
| exposure_count | integer | CHECK (exposure_count >= 0) |  |
| panel_width | integer | CHECK (panel_width > 0) |  |
| panel_height | integer | CHECK (panel_height > 0) |  |
| max_banners | integer | DEFAULT 20, CHECK (max_banners > 0) |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 3.4 banner_panel_details

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, UNIQUE, FK â†’ panel_info(id) |  |
| is_for_admin | boolean | DEFAULT false |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 4. ìŠ¬ë¡¯ ê´€ë ¨ í…Œì´ë¸”

### 4.1 banner_slot_info

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, FK â†’ panel_info(id) |  |
| slot_number | numeric | NOT NULL |  |
| slot_name | text |  |  |
| max_width | numeric |  |  |
| max_height | numeric |  |  |
| banner_type | USER-DEFINED |  |  |
| price_unit | USER-DEFINED | DEFAULT '15 days' |  |
| panel_slot_status | USER-DEFINED | DEFAULT 'available' |  |
| notes | text |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 4.2 led_slot_info

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, FK â†’ panel_info(id) |  |
| slot_name | text |  |  |
| slot_width_px | integer |  |  |
| slot_height_px | integer |  |  |
| position_x | integer | DEFAULT 0 |  |
| position_y | integer | DEFAULT 0 |  |
| slot_number | integer | NOT NULL, CHECK (slot_number >= 1 AND slot_number <= 30) |  |
| total_price | numeric | CHECK (total_price >= 0) |  |
| tax_price | numeric | CHECK (tax_price >= 0) |  |
| advertising_fee | numeric | CHECK (advertising_fee >= 0) |  |
| road_usage_fee | numeric | CHECK (road_usage_fee >= 0) |  |
| administrative_fee | numeric | CHECK (administrative_fee >= 0) |  |
| price_unit | USER-DEFINED | DEFAULT '15 days' |  |
| panel_slot_status | USER-DEFINED | DEFAULT 'available' |  |
| first_half_closure_quantity | integer | DEFAULT 0 |  |
| second_half_closure_quantity | integer | DEFAULT 0 |  |
| notes | text |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 4.3 panel_slot_usage

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_type_id | uuid | FK â†’ display_types(id) |  |
| panel_info_id | uuid | FK â†’ panel_info(id) |  |
| banner_slot_info_id | uuid | FK â†’ banner_slot_info(id) |  |
| slot_number | integer |  |  |
| usage_type | text |  |  |
| attach_date_from | date |  |  |
| unit_price | numeric | CHECK (unit_price >= 0) |  |
| banner_type | USER-DEFINED | NOT NULL |  |
| is_active | boolean | DEFAULT true |  |
| is_closed | boolean | DEFAULT false |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 5. ì¬ê³  ê´€ë¦¬ í…Œì´ë¸”

### 5.1 banner_slot_inventory

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | FK â†’ panel_info(id) |  |
| region_gu_display_period_id | uuid | FK â†’ region_gu_display_periods(id) |  |
| total_slots | integer | NOT NULL, DEFAULT 0 |  |
| available_slots | integer | NOT NULL, DEFAULT 0 |  |
| closed_slots | integer | DEFAULT 0 |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 5.2 led_display_inventory

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, FK â†’ panel_info(id) |  |
| region_gu_display_period_id | uuid | NOT NULL, FK â†’ region_gu_display_periods(id) |  |
| total_faces | integer | NOT NULL, DEFAULT 20 |  |
| available_faces | integer | NOT NULL, DEFAULT 20 |  |
| closed_faces | integer | DEFAULT 0 |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 5.3 top_fixed_banner_inventory

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, FK â†’ panel_info(id) |  |
| region_gu_display_period_id | uuid | NOT NULL, FK â†’ region_gu_display_periods(id) |  |
| banner_slot_info_id | uuid | FK â†’ banner_slot_info(id) |  |
| total_slots | integer | NOT NULL, DEFAULT 1 |  |
| available_slots | integer | NOT NULL, DEFAULT 1 |  |
| closed_faces | integer | DEFAULT 0 |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 6. ì£¼ë¬¸/ê²°ì œ ê´€ë ¨ í…Œì´ë¸”

### 6.1 orders

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| auth_user_id | uuid | FK â†’ user_auth(id) |  |
| user_profile_id | uuid | FK â†’ user_profiles(id) |  |
| user_auth_id | uuid | DEFAULT '00000000-0000-0000-0000-000000000000', FK â†’ user_auth(id) |  |
| order_number | character varying |  |  |
| payment_method_id | uuid | FK â†’ payment_methods(id) |  |
| payment_status | text | DEFAULT 'pending', CHECK (payment_status = ANY (ARRAY['pending', 'waiting_admin_approval', 'approved', 'completed', 'cancelled'])) |  |
| order_status | USER-DEFINED | DEFAULT 'pending' |  |
| design_drafts_id | uuid | FK â†’ design_drafts(id) |  |
| draft_delivery_method | text | CHECK (draft_delivery_method = ANY (ARRAY['email', 'upload'])) |  |
| panel_slot_snapshot | jsonb |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 6.2 order_details

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| order_id | uuid | FK â†’ orders(id) |  |
| panel_info_id | uuid | FK â†’ panel_info(id) |  |
| panel_slot_usage_id | uuid | FK â†’ panel_slot_usage(id) |  |
| slot_order_quantity | integer |  |  |
| display_start_date | date |  |  |
| display_end_date | date |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 6.3 payment_methods

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| name | text | NOT NULL |  |
| method_type | text | NOT NULL |  |
| method_code | text | NOT NULL, UNIQUE |  |
| description | text |  |  |
| is_active | boolean | DEFAULT true |  |
| is_online | boolean | DEFAULT true |  |
| requires_admin_approval | boolean | DEFAULT false |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 6.4 payments

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| order_id | uuid | NOT NULL, FK â†’ orders(id) |  |
| payment_method_id | uuid | NOT NULL, FK â†’ payment_methods(id) |  |
| payment_provider | text |  |  |
| amount | numeric | NOT NULL, CHECK (amount > 0) |  |
| payment_status | text | NOT NULL, DEFAULT 'pending', CHECK (payment_status = ANY (ARRAY['pending', 'completed', 'failed', 'cancelled', 'refunded'])) |  |
| transaction_id | text |  |  |
| payment_date | timestamp with time zone |  |  |
| admin_approval_status | text | DEFAULT 'pending', CHECK (admin_approval_status = ANY (ARRAY['pending', 'approved', 'rejected'])) |  |
| admin_notes | text |  |  |
| depositor_name | text |  |  |
| deposit_date | timestamp with time zone |  |  |
| is_require_tax_filing | boolean |  |  |
| is_agreed_caution | boolean |  |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

## 7. ë””ìì¸ ê´€ë ¨ í…Œì´ë¸”

### 7.1 design_drafts

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| user_profile_id | uuid | FK â†’ user_profiles(id) |  |
| admin_profile_id | uuid | FK â†’ admin_profiles(id) |  |
| project_name | text |  |  |
| file_name | text |  |  |
| file_url | text |  |  |
| file_extension | text |  |  |
| file_size | integer |  |  |
| draft_category | text | NOT NULL, DEFAULT 'initial', CHECK (draft_category = ANY (ARRAY['initial', 'feedback', 'revision', 'final'])) |  |
| notes | text |  |  |
| is_approved | boolean | DEFAULT false |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 7.2 public_design_contents

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| project_id | uuid |  |  |
| design_contents_type | USER-DEFINED | NOT NULL |  |
| title | text |  |  |
| subtitle | text |  |  |
| description | text |  |  |
| image_url | text |  |  |
| alt_text | text |  |  |
| display_order | integer | DEFAULT 0 |  |
| is_active | boolean | DEFAULT true |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 7.3 installed_photos

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_type_id | uuid | NOT NULL, FK â†’ display_types(id) |  |
| title | character varying | NOT NULL |  |
| content | text |  |  |
| photo_urls | ARRAY | NOT NULL |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

## 8. ê°€ê²© ì •ì±… í…Œì´ë¸”

### 8.1 banner_slot_price_policy

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | NOT NULL |  |
| banner_slot_info_id | uuid | NOT NULL, FK â†’ banner_slot_info(id) |  |
| price_usage_type | USER-DEFINED | NOT NULL |  |
| tax_price | integer | NOT NULL, DEFAULT 0 |  |
| road_usage_fee | integer | NOT NULL, DEFAULT 0 |  |
| advertising_fee | integer | NOT NULL, DEFAULT 0 |  |
| total_price | integer | NOT NULL, DEFAULT 0 |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 8.2 led_display_price_policy

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| panel_info_id | uuid | NOT NULL, UNIQUE, FK â†’ panel_info(id) |  |
| price_usage_type | USER-DEFINED | DEFAULT 'default' |  |
| tax_price | integer | NOT NULL, DEFAULT 0 |  |
| road_usage_fee | integer | NOT NULL, DEFAULT 0 |  |
| advertising_fee | integer | NOT NULL, DEFAULT 0 |  |
| total_price | integer | NOT NULL, DEFAULT 0 |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

## 9. ì§€ì—­ ê´€ë ¨ í…Œì´ë¸”

### 9.1 region_gu

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| code | text | NOT NULL, UNIQUE |  |
| name | character varying | NOT NULL |  |
| logo_image_url | text |  |  |
| phone_number | text |  |  |
| is_active | USER-DEFINED | DEFAULT 'false' |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 9.2 region_dong

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| district_code | text | NOT NULL, FK â†’ region_gu(code) |  |
| name | character varying | NOT NULL |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 9.3 region_gu_display_periods

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_type_id | uuid | FK â†’ display_types(id) |  |
| region_gu_id | uuid | FK â†’ region_gu(id) |  |
| year_month | character varying | NOT NULL |  |
| period | USER-DEFINED |  |  |
| period_from | date |  |  |
| period_to | date |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 10. ê³ ê° ì„œë¹„ìŠ¤ ê´€ë ¨ í…Œì´ë¸”

### 10.1 customer_inquiries

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| user_auth_id | uuid | NOT NULL |  |
| title | text | NOT NULL |  |
| content | text | NOT NULL |  |
| product_name | text |  |  |
| inquiry_status | USER-DEFINED | DEFAULT 'pending' |  |
| answer_content | text |  |  |
| answer_admin_id | uuid |  |  |
| answered_at | timestamp with time zone |  |  |
| closed_at | timestamp with time zone |  |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

### 10.2 customer_service

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| user_id | uuid | FK â†’ user_auth(id) |  |
| homepage_menu_type | uuid | FK â†’ homepage_menu_types(id) |  |
| title | character varying | NOT NULL |  |
| content | text | NOT NULL |  |
| status | character varying | NOT NULL, DEFAULT 'pending' |  |
| answer | text |  |  |
| answered_at | timestamp with time zone |  |  |
| cs_categories | USER-DEFINED |  |  |
| created_at | timestamp with time zone | DEFAULT now() |  |
| updated_at | timestamp with time zone | DEFAULT now() |  |

## 11. í™ˆí˜ì´ì§€ ê´€ë ¨ í…Œì´ë¸”

### 11.1 homepage_menu_types

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| name | USER-DEFINED | NOT NULL |  |
| description | text |  |  |
| created_at | timestamp with time zone |  |  |
| updated_at | timestamp with time zone |  |  |

### 11.2 homepage_contents

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| homepage_menu_types | uuid | FK â†’ homepage_menu_types(id) |  |
| title | text | NOT NULL |  |
| subtitle | text | NOT NULL |  |
| description | text |  |  |
| description_list | ARRAY |  |  |
| main_image_url | text |  |  |
| page | USER-DEFINED |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 11.3 homepage_notice

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| title | text | NOT NULL |  |
| content | text | NOT NULL |  |
| is_active | boolean | DEFAULT true |  |
| priority | USER-DEFINED | DEFAULT 'normal' |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

## 12. ê¸°íƒ€ í…Œì´ë¸”

### 12.1 bank_info

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| region_gu_id | uuid | FK â†’ region_gu(id) |  |
| display_type_id | uuid | FK â†’ display_types(id) |  |
| bank_name | character varying |  |  |
| account_number | character varying |  |  |
| depositor | character varying |  |  |
| contact | text |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 12.2 notice_categories

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| name | character varying | NOT NULL |  |
| sub_name | character varying | NOT NULL |  |
| display_order | integer | DEFAULT 0 |  |
| is_active | boolean | DEFAULT true |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone |  |  |

### 12.3 panel_guideline

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_category_id | uuid | FK â†’ display_types(id) |  |
| region_gu_id | uuid |  |  |
| guideline_type | USER-DEFINED |  |  |
| notes | text |  |  |
| order_period | text |  |  |
| main_notice | text |  |  |
| warning_notice | text |  |  |
| show_warning | boolean | DEFAULT true |  |
| image_url | ARRAY |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

### 12.4 panel_popup_notices

**ì„¤ëª…:** 

**ìš©ë„:**

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì œì•½ì¡°ê±´ | ì„¤ëª… |
| --- | --- | --- | --- |
| id | uuid | PK, NOT NULL, DEFAULT gen_random_uuid() |  |
| display_category_id | uuid | FK â†’ display_types(id) |  |
| region_gu_id | uuid | FK â†’ region_gu(id) |  |
| notice_categories_id | uuid |  |  |
| title | text |  |  |
| content | json |  |  |
| image_url | text |  |  |
| hide_oneday | boolean | DEFAULT false |  |
| start_date | date |  |  |
| end_date | date |  |  |
| created_at | timestamp without time zone | DEFAULT now() |  |
| updated_at | timestamp without time zone | DEFAULT now() |  |

---

## ğŸ“ ì‘ì„± ê°€ì´ë“œ

### ì‘ì„± ì‹œ ì°¸ê³ ì‚¬í•­:

1. **ì„¤ëª…:** í•´ë‹¹ í…Œì´ë¸” ì œëª©
2. **ìš©ë„**: í•´ë‹¹ í…Œì´ë¸”ì´ ì–´ë–¤ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ ëª…í™•íˆ ê¸°ìˆ 
3. **ì»¬ëŸ¼ ì„¤ëª…**: ê° ì»¬ëŸ¼ì´ ì €ì¥í•˜ëŠ” ë°ì´í„°ì˜ ì˜ë¯¸ì™€ ìš©ë„ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…
4. **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™**: íŠ¹ë³„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ì œì•½ì‚¬í•­ì´ ìˆë‹¤ë©´ ì„¤ëª…ë€ì— ì¶”ê°€
5. **ì°¸ì¡° ê´€ê³„**: ì™¸ë˜í‚¤ ê´€ê³„ê°€ ìˆëŠ” ê²½ìš° ì–´ë–¤ ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ì„¤ëª…

### ì˜ˆì‹œ:

```
í…Œì´ë¸” ìš©ë„: ê´€ë¦¬ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ë¡œ, ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ë©ë‹ˆë‹¤.

| ì»¬ëŸ¼ëª… | ì„¤ëª… |
|--------|------|
| email | ê´€ë¦¬ì ë¡œê·¸ì¸ìš© ì´ë©”ì¼ ì£¼ì†Œ (ì¤‘ë³µ ë¶ˆê°€) |
| password_hash | bcryptë¡œ í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸ |
| is_active | ê³„ì • í™œì„±í™” ìƒíƒœ (falseì‹œ ë¡œê·¸ì¸ ë¶ˆê°€) |

```

## âš ï¸ ë°œê²¬ëœ ì´ìŠˆë“¤

ë‹¤ìŒ í•­ëª©ë“¤ì€ ê°œë°œìë‹˜ê³¼ í•¨ê»˜ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤:

1. **ì™¸ë˜í‚¤ ëˆ„ë½**: `customer_inquiries.answer_admin_id`ì— FK ì œì•½ì¡°ê±´ ì—†ìŒ
2. **ì¤‘ë³µ ì°¸ì¡°**: `orders` í…Œì´ë¸”ì— ì‚¬ìš©ì ì°¸ì¡° ì»¬ëŸ¼ì´ 3ê°œ ì¡´ì¬
3. **íƒ€ì„ìŠ¤íƒ¬í”„ ë¶ˆì¼ì¹˜**: ì¼ë¶€ í…Œì´ë¸”ì€ `with time zone`, ì¼ë¶€ëŠ” `without time zone` ì‚¬ìš©
4. **ë³´ì•ˆ ê°•í™” í•„ìš”**: `admin_auth` í…Œì´ë¸”ì— ë¡œê·¸ì¸ ì‹¤íŒ¨ íšŸìˆ˜, ê³„ì • ì ê¸ˆ ë“± ë³´ì•ˆ í•„ë“œ ë¶€ì¬
5. **ê°ì‚¬ ë¡œê·¸ ë¶€ì¬**: ê´€ë¦¬ì í™œë™ ë¡œê·¸ í…Œì´ë¸” ì—†ìŒ